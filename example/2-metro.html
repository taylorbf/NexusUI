<html>
	<head>
		<script src="../dist/mt.js"></script>
			<script src="js/Tone.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
	</head>
	<body onload="init()">


		<div class="center-block" style="border:solid 0px">
			<h1>Musician's Toolkit</h1>
			<div>Interfaces, Tuning, Timing</div><br>
		</div>

		<div class="center-block" style="margin-top:50px">
			<div id="beat" mt="metronome"></div>
		</div>



		<code class="center-block">
			HTML
		</code>

		<code class="center-block">
			JS
		</code>

	</body>
	<script>


		var synth = new Tone.PolySynth(6, Tone.FMSynth).toMaster()
		synth.set("volume", -20)

		function init() {
			mt.init()
			mt.tune.loadScale("ji_diatonic")
		}

		mt.onload = function() {

			mt.colorize("#b26")

			mt.ui.beat.event(function(v) {
				var root = mt.pick(0,1,3)
				var oct = mt.ri(-2,1)
				synth.triggerAttackRelease([ mt.tune.note( root, mt.ri(-2,1) ) + mt.rf(-.1,.1), mt.tune.note( root+2, mt.ri(-2,1) ) + mt.rf(-.1,.1), mt.tune.note( root+4, mt.ri(-2,1) ) + mt.rf(-.1,.1) ], "2n")

				mt.ui.beat.ms(mt.ri(100,1000))
			})
		}

		</script>
		<style>
			body{
				font-family:'Muli', helvetica;
			}
			.center-block {
				width:700px;
				border:solid 1px #bbb;
				margin:5px auto;
				padding:10px;
				display:block;
			}
		</style>
</html>
